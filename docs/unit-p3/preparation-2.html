<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">
  <meta name="generator" content="">
  <title>TTM4175</title>
  <link rel="canonical" href="https://edu.iik.ntnu.no">
  <!-- Bootstrap core CSS -->
  <link href="../assets/bootstrap.min.css" rel="stylesheet">
  <!-- Custom styles for this template -->
  <link href="../assets/style.css" rel="stylesheet">
  <link rel="stylesheet" href="../assets/bootstrap-icons.css">
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="../assets/anchor.js"></script>
  <script src="../assets/script-aside.js"></script>
  <script src="../assets/clipboard.min.js"></script>
  <style type="text/css">
    /* === figure === */
div.figure {
  padding: 20px 0 20px 0;
  width: 100%;
}

div.figurefullwitdth {
  padding: 20px 0 20px 0;
  margin-left: -33px;
  margin-right: -33px;
  width: 100%;
}

figcaption {
  color: #868279;
}


  </style>
</head>

<body>
  
  



<nav class="navbar navbar-expand-lg navbar shadow-sm">
  <div class="container-fluid">
    <a class="navbar-brand" href="https://ntnu.edu" title="NTNU Homepage">
      <img id="header_logo" alt="NTNU Hjemmeside" width="120px" src="https://www.ntnu.no/o/ntnu-theme/images/logo_ntnu.svg" height="23px">
    </a>
    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon">
      	<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-list" viewBox="0 0 16 16">
  			<path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"/>
		</svg>
      </span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNavDropdown">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="../index.html">TTM4175</a>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Teknostart
          </a>
          <ul class="dropdown-menu dropdown-menu">
            <a class="dropdown-item" href="../teknostart/index.html">Teknostart oversikt</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="../teknostart/day1.html">Teknostart Dag 1</a>
            <a class="dropdown-item" href="../teknostart/day2.html">Teknostart Dag 2</a>
            <a class="dropdown-item" href="../teknostart/day3.html">Teknostart Dag 3</a>
            <a class="dropdown-item" href="../teknostart/day4.html">Teknostart Dag 4</a>
          </ul>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Units
          </a>
          <ul class="dropdown-menu dropdown-menu">
            <a class="dropdown-item" href="../units.html">Oversikt</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="../unit-cli/index.html">Linux CLI</a>
            <a class="dropdown-item" href="../unit-net1/index.html">IPs, LAN</a>
            <a class="dropdown-item" href="../unit-net2/index.html">Ports, Web Servers</a>
            <a class="dropdown-item" href="../unit-net3/index.html">Routing, DNS</a>
            <a class="dropdown-item" href="../unit-p1/index.html">IoT and the Microbit</a>
            <a class="dropdown-item" href="../unit-p2/index.html">State Machines</a>
            <a class="dropdown-item" href="../unit-p3/index.html">HTTP and JSON</a>
            <a class="dropdown-item" href="../unit-p4/index.html">MQTT</a>
          </ul>
        </li>
        
        

        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Learning
          </a>
          <ul class="dropdown-menu dropdown-menu">
            <a class="dropdown-item" href="../learning/learning.html">Læring</a>
            <a class="dropdown-item" href="../learning/reports.html">Rapporter</a>
          </ul>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Tools
          </a>
          <ul class="dropdown-menu dropdown-menu">
            <a class="dropdown-item" href="../tools/index.html">Tools</a>
            <!--<a class="dropdown-item" href="../tools/tools-python.html">Python</a>-->
            <a class="dropdown-item" href="../tools/tools-gui.html">GUIs in Python</a>    
            <a class="dropdown-item" href="../tools/tools-mqtt.html">MQTT</a>            
            <a class="dropdown-item" href="../tools/tools-notebooks.html">Notebooks</a>
            <a class="dropdown-item" href="../tools/tools-stmpy.html">STMPY</a>            
          </ul>
        </li>
      </ul>
      <div class="bg-light border ms-auto"></div>
        <div>
        <a class="nav-link" href="../schedule.html"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-calendar3" viewBox="0 0 16 16">
          <path d="M14 0H2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zM1 3.857C1 3.384 1.448 3 2 3h12c.552 0 1 .384 1 .857v10.286c0 .473-.448.857-1 .857H2c-.552 0-1-.384-1-.857V3.857z"/>
          <path d="M6.5 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
        </svg></a>
      </div>
    </div>
  </div>
</nav>






  <main class="container">

    <div class="row g-5 justify-content-md-center pb-5">



      <div class="col-md-9" style="margin-top: 6rem;">
        <div class="page">
    </section>
    <section class="content">
<h1>Serialization of Data</h1>
<p>When two computers communicate, they send their data as a sequence of
bits or bytes, which in turn are transformed into electrical or optical
signals that then travel via cables or fibers. But how do we get such a
sequence of bits from the data? Somehow we must ensure that data that is
translated into a sequence of bits also can be translated back again
once we receive them. For this, we need serialization methods.</p>

<figure class="figure">
    <img src="figures/serialization.png" class="figure-img img-fluid rounded" alt="">
</figure>
<p>If we just want to transfer text, there is for instance the ASCII
standard that explains how letters, numbers and other signs are
transformed into bits. A text (or <em>string</em>) is a sequence of characters,
An <code>A</code>, for instance, is represented by the bits <code>100 0001</code>. The Unicode
standard expands ASCII to convert a much larger set of symbols,
including <code>Ê</code>, <code>¯</code>, and <code>Â</code>. Unicode also encodes emoji. To transfer
text or emoji, we must hence know ho they are encoded (for instance
which specific version of Unicode) and look up the bits and bytes in a
table. (We <em>serialized</em> the data.) The other way round, when we receive
bits and want to create letters from it, we <em>deserialize</em> the data,
which means that we look up which letters the bits correspond to.</p>
<p>Serialization is not only useful when we want to transmit data from one
computer to another. It is also useful when we want to store a data
structure into a file. A file is storing a series of bytes, and
serialization determines how we get these bytes from a data structure.</p>
<p>Now imagine we want to transfer more structured data, for instance the
measurements of a sensor in a house. We would like to send the current
time, the temperature and the humidity. To do that, we could of course
send a string that just lists the different data items in a sequence,
for instance:</p>
<pre><code>12:05  20.0  54.3
</code></pre>
<p>When we then deserialize the data, i.e., construct the measurement
values at the receiver side, we need to know in which sequence these
values were and put everything correct back together. For a simple
problem, this is possible, but you can imagine how many mistakes may
happen here!</p>

    </section>
    <section class="content">
<h1>Serialization of Data With JSON</h1>
<p>Instead of inventing our method of putting data into a data sequence
each time, we use a more robust and standardized way of packing the data
together. Have a look at the following:</p>
<pre><code>{&quot;time&quot;: &quot;12:05&quot;, &quot;temperature&quot;: 20.0, &quot;humidity&quot;: 54.3}
</code></pre>
<p>This way of writing data is called JSON, pronounced &quot;Jason,&quot; and an
abbreviation for <em>JavaScript Object Notation</em>, because it was originally
inspired by how JavaScript serialized its objects. It may also remind
you of a Python dictionary. The example above is only a very simple one.
The data can also be nested, i.e., a data field can refer to a JSON
structure that for instance declares the data fields separate from each
other or adds the information in which unit the measurement is given,
for instance as follows:</p>
<pre><code>{&quot;time&quot;: {&quot;hour&quot;:12, 
		  &quot;minutes&quot;: 5,
		  &quot;seconds&quot;: 0}, 
 &quot;temperature&quot;: {&quot;value&quot;: 20.0, 
				 &quot;unit&quot;: &quot;celcius&quot;}, 
 &quot;humidity&quot;: {&quot;value&quot;: 54.3, 
			  &quot;unit&quot;: &quot;percent&quot;}}
</code></pre>
<p>There's a lot of history in such data formats, and sometimes it's not
even technical reasons why one is used or the other, or how they look in
detail. Another format used for similar purposes is called <code>XML</code>, or
<em>Extensible Markup Language</em>. In this language, the same piece of data
could look as follows:</p>
<pre><code>&lt;dataset&gt;
	&lt;data name=&quot;time&quot; value=&quot;12:05&quot;/&gt;
	&lt;data name=&quot;temperature&quot; value=&quot;20.0&quot;/&gt;
	&lt;data name=&quot;humidity&quot; value=&quot;54.3&quot;/&gt;
&lt;/dataset&gt;
</code></pre>
<p>XML looks a lot more like the HTML that is used to encode a website.
Since JSON is a bit simpler to use, we will stick with it in the
following.</p>
<h2>JSON in Python</h2>
<p>For Python there is a library to convert data structures into JSON and
back again. This is how you import the library:</p>

<div class="source-code-frame mt-3 mb-3">
<pre class="d-none" id="idf125d9">import json
</pre>
<button type="button" class="copy-button" data-clipboard-target="#idf125d9">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16">
  		<path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"></path>
  		<path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"></path>
	</svg>
</button>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" title="1"><span class="ex">import</span> json</a></code></pre></div>
</div>
<p>We assume that the data structure is stored as a Python dictionary:</p>
<pre><code>measurement = {'time': '12:05', 'temperature': 20.0, 'humidity': 54.3}
</code></pre>
<p>There is an operation <code>json.dumps()</code> to create the JSON-serialized
string out of a data structure.</p>
<pre><code>string = json.dumps(measurement)
print(string)
</code></pre>
<p>The output will be the following:</p>
<pre><code>{&quot;time&quot;: &quot;12:05&quot;, &quot;humidity&quot;: 54.3, &quot;temperature&quot;: 20.0}
</code></pre>
<p>The resulting string in JSON almost looks like the original Python
string. This is because Python dictionaries look very similar to JSON,
but this also works for more complex data types.</p>
<p>The other way round will also work; The function <code>json.loads()</code> takes a
JSON string and creates a Python data type from it. For instance, we can
do the following:</p>
<pre><code>measurement = json.loads('{&quot;time&quot;: &quot;12:05&quot;, &quot;humidity&quot;: 54.3, &quot;temperature&quot;: 20.0}')
</code></pre>
<p>The result is that the variable <code>measurement</code> now has data of type
<code>dict</code>. Now we can work on the data like with any other Python data
type, and integrate it in our application.</p>
<p>So, simplified said, with JSON we can convert any Python data type into
a string that follows the JSON specification. It is then easy to store
or transmit this string (as a series of bytes), and transform it back
into data again.</p>

    </section>
</div>
      </div>




    </div>

  </main>
<nav class="navbar navbar-expand-lg navbar-dark fixed-bottom" style="background-color: #555555">
    <div class="container-fluid">
      <div class="collapse navbar-collapse" id="navbarNavDropdown">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="https://www.ntnu.no/informasjonskapsler">Om informasjonskapsler</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="https://www.ntnu.no/personvern">Personvern</a>
          </li>
        </ul>
        <div class="bg-light ms-auto border-0"></div>
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" data-bs-toggle="offcanvas" href="#offcanvasExample" role="button" aria-controls="offcanvasExample">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-square" viewBox="0 0 16 16">
                <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
                <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
              </svg>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <div class="offcanvas offcanvas-end text-bg-dark" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
    <div class="offcanvas-header">
      <h5 class="offcanvas-title" id="offcanvasExampleLabel">Edit this page</h5>
    </div>
    <div class="offcanvas-body">
      <ul>
        <li>This site is hosted on <a href="https://github.com/falkr/ttm4175">Github</a></li>
        <li>The source is written in <a href="../supermark/index.html">Supermark</a> syntax</li>
        <li>To edit this page, make a commit to <a href="https://github.com/falkr/ttm4175/tree/master/pages/unit-p3/preparation-2.md">this file</a></li>
      </ul>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>
  <script>
    anchors.add('h1').add('h2').add('h3');
    anchors.options.visible = 'always';
    var clipboard = new ClipboardJS('.copy-button');
  </script>
  <script>
    

  </script>
</body>

</html>